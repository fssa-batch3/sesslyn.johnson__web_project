<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <link rel="stylesheet" href="../assets/css/profile.css">
  <link rel="stylesheet" href="../assets/css/normalize.css">
  <link rel="stylesheet" href="../assets/css/header and footer.css">
</head>

<body class="body">
 
  <div class="container">

    <div class="container-title">
      <h1 class="container-head"><span class="color">P</span>ROFILE </h1>

      <img src="../assets/images/Main/sess.jpg" alt="profile image" class="profile-image" width="180px">

    </div>
    <div class="container-content">
      <form role="form">
      <b>
        <p>Name: 
          <input class="name" type="text" required="true" placeholder="Name" id="user_name" disabled /></p>
        <p> Email: 
          <input class="mail" type="text" required="true" placeholder="abc@gmail.com" id="user_email" disabled /> </p>
        <p>Address: 
          <input class="address" type="text" required="true" placeholder="Address" id="user_address"
            disabled /></p>
        <P>Contact: 
          <input class="number" type="text" required="true" placeholder="+916789654327"
            id="user_contact" disabled /></p>
        <p>Country: 
          <input class="place" type="text" required="true" placeholder="India" id="user_country"
            disabled /></p>
        <p>Bio: <input class="about" type="text" required="true" placeholder="About" id="user_about" disabled />
        </p>
      </b>
    </div>
    <button class="btn btn-primary"><a href="../pages/edit.html">Edit</a></button>
    <button class="btn btn-secondary" type="sumbit" onclick="delData() ">Delete</button>
  </div>
</form>
  <script>

    let user_id = JSON.parse(localStorage.getItem('user_id'));
    let user_list = JSON.parse(localStorage.getItem('user_list'));
    function login_data(e) {
      return e.user_email == user_id;
    }

    user_data = user_list.find(login_data);

    document.getElementById("user_name").value = user_data["user_name"];
    document.getElementById("user_email").value = user_data["user_email"];
    document.getElementById("user_address").value = user_data["user_address"];
    document.getElementById("user_contact").value = user_data["user_contact"];
    document.getElementById("user_country").value =user_data["user_country"];
    document.getElementById("user_about").value = user_data["user_about"];
    
    function delData(e) {
      if (confirm("Are you sure?")) {
        let user_id = JSON.parse(localStorage.getItem("user_id"));
        let user_list = JSON.parse(localStorage.getItem("user_list"));
        function login_data(e) {
          return e.user_email == user_id;
        }
        let user_data = user_list.find(login_data);
        const indexOfUser = user_list.indexOf(user_data);
        user_list.splice(indexOfUser, 1);
        localStorage.setItem('user_list', JSON.stringify(user_list));
        window.location.href = "../../index.html";
      };
    }
    
  </script>
<script src="../assets/comments/header.js"></script>
</body>

</html>