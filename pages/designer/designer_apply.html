<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Designers</title>
    <link rel="stylesheet" href="../../assets/css/designer/designer_apply.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700," rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&display=swap" rel="stylesheet">

</head>

<body>
    <div class="container">
        <span class="big-circle"></span>
        <img src="#" class="square" alt="" />
        <div class="form">
            <div class="contact-info">
                <h3 class="title">Let's get in touch</h3>
                <p class="text">
                    Complete the form's information. We will be in touch with you as soon as we can.
                </p>

                <div class="info">
                    <div class="information">
                        <img src="https://iili.io/HgtkI7n.png" class="icon" alt="" />
                        <p>Ruby apartments, Ambedkar Road, Perungudi - 600096</p>
                    </div>
                    <div class="information">
                        <img src="data:image/png;base64,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"
                            class="icon" alt="" />
                        <p>sesslyn2004@gmail.com</p>
                    </div>
                    <div class="information">
                        <img src="https://iili.io/HgtkRIf.png" class="icon" alt="" />
                        <p>91-6381040916</p>
                    </div>
                    <img class="designerImage"
                        src="https://img.freepik.com/free-vector/team-checklist-concept-illustration_114360-9880.jpg?w=1060&t=st=1684929930~exp=1684930530~hmac=1f6bc73c52f8c8e2f0b390aacf0842e44f2e6168c84636b6ddeef2600cf18274" />
                </div>

            </div>

            <div class="contact-form">
                <div id="criteriaDiv">
                    <h4>Criteria</h4>
                    <p class="criteriaPara">1. A resume must be uploaded, first.</p>
                    <p class="criteriaPara">2. If you have a profile on LinkedIn, Adobe InDesign, ISSUU, Adobe Behance,
                        Adobe Photoshop, or even PowerPoint, you may add the URL to it.</p>
                    <p class="criteriaPara">3. If you have a profile on several of the websites indicated above. Add any
                        one of them to your profile and connect the others.so that we could navigate through each and
                        every one of your profiles with ease.</p>
                    <p class="criteriaPara">4. Your profile should include pictures or videos of the projects you've
                        finished.</p>
                    <p class="criteriaPara">5. You can include your internship experience if you're a beginner.</p>
                    <p class="criteriaPara">6. We also provide a quick quiz, which will be shown to you after you submit an application for the designer.</p>
                    <p class="criteriaPara">7. Our team will get in touch with you and set up a direct interview after
                        reviewing your résumé and profile. If you were chosen, you could join Minimalistic.</p>
                    <a href="./designer_apply.html"><button class="btnOk" type="button">Ok</button></a>
                </div>
                <div id="formDiv">
                    <form id="formForm">
                        <h3 class="title">Contact us</h3>
                        <div class="input-container">
                            <input type="text" name="name" pattern="[a-zA-Z\s]+" title="Only contain Alphabets"
                                id="user_name" required class="input" />
                            <label for="user_name">Username</label>
                            <span>Username</span>
                        </div>

                        <div class="input-container">
                            <label for="">Email</label>
                            <input type="email" name="email" id="user_email"
                                pattern="^[a-zA-Z0-9]+([a-zA-Z0-9_+\-\. ]*[a-zA-Z0-9]+)?@[a-zA-Z0-9]+([a-zA-Z0-9\-\.]*[a-zA-Z0-9])?\.[a-zA-Z]{2,}$"
                                title="Must contain @ and only lower case is allowed." required class="input" />

                            <span>Email</span>
                        </div>
                        <div class="input-container">
                            <input type="tel" name="phone" pattern="[6-9]{1}[0-9]{9}" title="it should be 10 digit number"
                                required id="designer_number" class="input" />
                            <label for="">Phone</label>
                            <span>Phone</span>
                        </div>
                        <div class="input-container">
                            <label for="">Experience</label>
                            <input type="text" name="experience" required pattern="^(?:\d+\smonths|\d+\syears)$"
                                title="It should be in months or years" id="designer_exper" class="input" />
                            <span>Experience</span>
                        </div>
                        <div class="input-container">
                            <label for="">Profile Link</label>
                            <input type="url" name="profile" required title="https://.*" pattern="https://.*"
                                id="designer_portfolio" class="input" />

                            <span>Profile Link</span>
                        </div>
                        <div class="input-container" id="imgPhoto">
                            <label class="resume" for="file">Photo </label>
                            <input type="file" accept="image/*" name="image" required id="photo_image" class="input"
                                onchange="photoFile(event)" />
                        </div>
                        <div class="input-container" id="imgBox">
                            <label class="resume" for="file">Resume</label>
                            <input type="file" accept="image/*" name="image" required id="resume_image" class="input"
                                onchange="uploadFile(event)" />
                        </div>

                        <div class="input-container">
                            <input type="checkbox" required />
                            <button type="button" class="termsCond">I have read the Terms & Conditions to apply</button>
                        </div>

                        <button type="submit" id="btn">Submit</button>
                    </form>

                </div>
            </div>
        </div>
    </div>
    <script>


        const aaa = document.querySelector('button.termsCond');
        aaa.addEventListener('click', function () {
            console.log("sess")
            const criteriaDiv = document.getElementById('criteriaDiv');
            const formDiv = document.getElementById('formDiv');
            function showMessageDiv() {
                criteriaDiv.style.display = 'block';
                formDiv.style.display = 'none';
            }
            showMessageDiv();
        });

        const profile_id = JSON.parse(localStorage.getItem("profile_id"));
        const user_crud = JSON.parse(localStorage.getItem("user_crud"));

        function login_data(e) {
            return e.user_email == profile_id;
        }

        const user_data = user_crud.find(login_data);

        document.getElementById("user_name").value = user_data.user_name;
        document.getElementById("user_email").value = user_data.user_email;

        const inputs = document.querySelectorAll(".input");
        inputs.forEach((input) => {
            let parent = input.parentNode;
            parent.classList.add("focus");
        });

        function focusFunc() {
            let parent = this.parentNode;
            parent.classList.add("focus");
        }

        function blurFunc() {
            let parent = this.parentNode;
            if (this.value == "") {
                parent.classList.remove("focus");
            }
        }

        inputs.forEach((input) => {
            input.addEventListener("focus", focusFunc);
            input.addEventListener("blur", blurFunc);
        });

        let imgBox = document.getElementById("imgBox");

        let uploadFile = function (event) {
            let file = event.target.files[0];
            let reader = new FileReader();

            reader.onload = function () {
                let resumeURL = reader.result;
                localStorage.setItem('resumeURL', resumeURL);
            };

            reader.readAsDataURL(file);
        };

        let imgPhoto = document.getElementById("imgPhoto");

        let photoFile = function (event) {
            let file = event.target.files[0];
            let reader = new FileReader();

            reader.onload = function () {
                let photoURL = reader.result;
                localStorage.setItem('photoURL', photoURL);
            };

            reader.readAsDataURL(file);
        };

        // Phone Number
        document.getElementById("formForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const user_name = document.getElementById("user_name").value.trim().split(/\s+/g).join(" ");
            const user_email = document.getElementById("user_email").value;
            const designer_number = document.getElementById("designer_number").value;
            const designer_exper = document.getElementById("designer_exper").value.trim().split(/\s+/g).join(" ");
            const designer_portfolio = document.getElementById("designer_portfolio").value.trim().split(/\s+/g).join(" ");

            const photoURL = localStorage.getItem('photoURL');
            const resumeURL = localStorage.getItem('resumeURL');
            const designers_uuid = uuidv4();

            // Phone Number
            function check_phonenumber() {
                const designer_number = document.getElementById("designer_number").value;
                let result = 0;

                for (let i = 0; i < designer_number.length; i++) {
                    if (designer_number[i] === designer_number[0]) {
                        result += 1;
                    } else {
                        break;
                    }
                }

                console.log(result)

                if (result !== 10) {
                    alert("Enter your number properly");
                    reset()
                    // return;
                }
            }
            const applyDesigner = JSON.parse(localStorage.getItem("applyDesigner")) || [];
            const profile_id = JSON.parse(localStorage.getItem("profile_id"));

            const user_designer = applyDesigner.some((e) => e.user_email === user_email);
            console.log(user_designer);

            if (user_designer) {
                alert("You have already registered.");
            } else {
                applyDesigner.push({
                    user_name,
                    user_email,
                    designer_number,
                    designer_exper,
                    designer_portfolio,
                    photo_image: photoURL,
                    resume_image: resumeURL,
                    designers_uuid
                });
                localStorage.setItem("applyDesigner", JSON.stringify(applyDesigner));
                alert("You have applied successfully.");

                localStorage.removeItem('photoURL');
                localStorage.removeItem('resumeURL');
                window.location.href="./quiz.html"
            }

        });


    </script>

    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>

</body>

</html>