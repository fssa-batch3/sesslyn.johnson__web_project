<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Product Upload page</title>
  <link rel="stylesheet" href="../../assets/css/description.css">
  <link rel="stylesheet" href="../../assets/css/seller/homepage.css">
  <link rel="stylesheet" href="../../assets/css/normalize.css">
  <link rel="stylesheet" href="../../assets/css/header and footer.css">

  <link rel="dns-prefetch" href="//fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700," rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>

<body id="product-main">
  <header class="header" id="header-nav">
    <div>
      <a href="./Homepage.html">
        <img class="logo-image" src="../../assets/images/Main/casas-logo.png" alt="logo image" />
      </a>
    </div>
    <div class="inner" id="input">
      <button type="submit"><a href="./Register-seller.html">Login</a></button>
    </div>
    <div class="triple-bar" id="profile-icon">
      <a href="profile-seller.html"><img src="../../assets/images/Main/profile (1).png" alt="bar icon" /></a>
    </div>
    <div class="plus-icon">
      <a href="new-product.html"><i class="fa fa-plus"></i></a>
    </div>
  </header>


  <section class="top" id="top">
    <!-- <section class="left">
      <img class="main-img" id="upload-img" src="../../assets/images/Rooms/Wallpaper/Wallpaper 3.jpg"
        alt="desktop image" />
    </section>

    <section class="right" id="upload-right">

      <h1 class="heading"> <span class="color">B</span>lue<span class="color"> W</span>allpaper </h1>

      <div class="amount">
        <h3>Price</h3>
        <p class="price"><del>Rs. 9,999.00</del> <span class="real-price"> Rs.4,999.00 </span><small class="real-prize">
            Save Rs.5000</small></p>
      </div>

      <div class="product-description">
        <h3>Description :</h3>
        <p>* Royal Blue Wallpaper </p>
        <p>* Free from PVC, Microplastics, Lead, and other harmful chemicals.</p>
        <p>* All materials were sourced responsibly from within our country.</p>
        <p>* Our experts will install it for you – No cost</p>
        <p>* Tearproof, Water Resistant.</p>
        <p>* Perfect for living room, bedroom, hallway and more</p>
        <h3>Warranty:</h3>
        <p> 5 Years of On-Site</p>

      </div>
          <button class="btn-secondary"><a href="./new-product.html">Edit</a></button> 
     
    </section>  -->
  </section>

  <div class="footer" id="footer-upload">
    <div class="footer-div">
      <img class="footer-image" src="../../assets/images/Main/Casas-dark.png" alt="desktop image" />

      <div class="footer-media">
        <a href="https://www.facebook.com/profile.php?id=100087049213851"><img class="fb-icon"
            src="../../assets/images/Main/facebook-icon.png" alt="facebook-icon" /></a>
        <a href="https://github.com/Sesslyn041215"><img src="../../assets/images/Main/github-new.png"
            alt="github-icon" /></a>
        <a href="https://www.linkedin.com/in/sesslyn-j-989b18250"><img src="../../assets/images/Main/linked-icon.png"
            alt="linked-icon" /></a>
        <a href="https://twitter.com/SesslynJ"><img src="../../assets/images/Main/twitter-icon.png"
            alt="twitter-icon" /></a>
      </div>
    </div>

    <div class="footer-div" id="footer-h4">
      <h4>General</h4>
      <a href="./pages/Login/Register.html">
        <p>Sign Up</p>
      </a>
      <a href="./pages/queries.html">
        <p>About</p>
      </a>
      <a href="https://medium.com/@sesslyn2004">
        <p>Blog</p>
      </a>
      <a href="https://medium.com/@mohid-ahmed/ghow-to-stay-focused-when-working-from-home-b54c7ab39e96">
        <p>Careers</p>
      </a>
      <a
        href="https://medium.com/hackernoon/11-things-developers-love-hearing-from-non-developer-co-workers-ea94805cf05d">
        <p>Developers</p>
      </a>
    </div>

    <div class="footer-div" id="footer-h4">
      <h4>Browse Casas</h4>
      <a href="./index.html">
        <p>Main page</p>
      </a>
      <a href="./pages/Living room/project.html">
        <p>Chamber</p>
      </a>
      <a href="./pages/queries.html">
        <p>About</p>
      </a>
      <a href="./pages/Shop.html">
        <p>Shop</p>
      </a>
      <a href="./pages/liked.html">
        <p>Wishlist</p>
      </a>
      <a href="./pages/order.html">
        <p>Orders</p>
      </a>
    </div>

    <div class="footer-div" id="footer-h4">
      <h4>Business Solutions</h4>
      <a href="#">
        <p>Talent</p>
      </a>
      <a href="#">
        <p>Marketing</p>
      </a>
      <a href="#">
        <p>Sales</p>
      </a>
      <a href="#">
        <p>Learning</p>
      </a>
      <a href="#">
        <p>Creativity</p>
      </a>
    </div>
  </div>


  <script>

    let section_left
    let img_product
    let div_interiors
    let section_right
    let h1_title
    let div_amount
    let h3_head
    let p_paragraph
    let span_price
    let del_price
    let small_pattern
    let div_description
    let h3_description
    let p_text
    let h3_warranty
    let p_para
    let div_rate
    let p_rate
    let i_star
    let button_primary
    let button_secondary
    let a_tag



    let details = {
      product_image: {
        source: "../assets/images/Rooms/Sofa/Sofa/Sofa 5.jpg",
        alt: "Bluish Green Fabric Sofa"
      },
      name: "Designs of Sofa",
      link: "./liked.html",
      heart_image: {
        source: "../assets/images/Main/heart-icon.png",
        alt: "heart-liked products"
      },
      text: "Price",
      price: {
        actual: {
          type: "Rs",
          value: "59000"
        },
        discount: {
          type: "Save Rs",
          value: "4000"
        },
        current: {
          type: "Rs",
          value: "55,000.00"
        },
      },
      product_description: "Description",
      description: [
        {
          text: "* Teak Wood Sofa with cushions."
        },
        {
          text: "* 10 days replacement"
        },
        {
          text: "* Sectional Sofa Length = 105.5"
        },
        {
          text: "* Our experts will install it for you – No cost."
        },
        {
          text: "* Teak Wood Sofa with cushions."
        },
        {
          text: "* Perfect for Living room."
        }],

      heading: "Warranty",
      warranty: {
        years: 3,
        type: "Years of On-Site"
      },
      rate: "Ratings :",
      primary: "Edit",
      secondary:"Delete",
      tag: "../upload.html",
      picture: {
        source: "../cart-outline.svg",
        alt: "cart icon"
      },

    }

    let product_upload = JSON.parse(localStorage.getItem("product_crud"));
    console.log(product_upload)

      section_left = document.createElement("section");
      section_left.setAttribute("class", "left");

      console.log(section_left)

      //<img/>
      img_product = document.createElement("img");
      img_product.setAttribute("alt", details.product_image.alt);
      img_product.setAttribute("id", "upload-img");
      img_product.setAttribute("src", product_upload[0]["image_url"]);
      section_left.append(img_product);


      //  <div class="down">
      div_interiors = document.createElement("div");
      div_interiors.setAttribute("class", "down");
      section_left.append(div_interiors);


      document.querySelector("section.top").append(section_left);

      section_right = document.createElement("section");
      section_right.setAttribute("class", "right");

      console.log(section_right);

      //  <h1 class="heading"> </h1>
      h1_title = document.createElement("h1");
      h1_title.setAttribute("class", "heading");
      h1_title.innerHTML = product_upload[0]["product_name"];
      section_right.append(h1_title);


      //  <div class="amount">
      div_amount = document.createElement("div");
      div_amount.setAttribute("class", "amount");
      section_right.append(div_amount);


      //  <h3> </h3>
      h3_head = document.createElement("h3");
      h3_head.innerHTML = details.text;
      div_amount.append(h3_head);

      //<p class="price"></p>
      p_paragraph = document.createElement("p");
      p_paragraph.setAttribute("class", "price");
      div_amount.append(p_paragraph);

      //<span class="real_price"></span>
      span_price = document.createElement("span");
      span_price.setAttribute("class", "real-price");
      span_price.innerHTML = product_upload[0]["product_sell"];
      p_paragraph.append(span_price);


      //<del></del>
      del_price = document.createElement("del");
      del_price.innerHTML = product_upload[0]["product_real"];
      p_paragraph.append(del_price);



      //  <small> </small>
      small_pattern = document.createElement("small");
      small_pattern.setAttribute("class", "real-prize");
      small_pattern.innerHTML = product_upload[0]["product_discount"];
      p_paragraph.append(small_pattern);


      //  <div class="product-description">
      div_description = document.createElement("div");
      div_description.setAttribute("class", "product-description");
      section_right.append(div_description);


      //  <h3> </h3>
      h3_description = document.createElement("h3");
      h3_description.innerHTML = details.product_description;
      div_description.append(h3_description);

      const descript = details.description;
      const no_of_list = descript.length;

      // for (let j = 0; j < no_of_list; j++) {
      //<p></p>
      p_text = document.createElement("p");
      p_text.innerHTML = product_upload[0]["product_description"];
      div_description.append(p_text);


      //  <h3> </h3>
      h3_warranty = document.createElement("h3");
      h3_warranty.innerHTML = details.heading;
      div_description.append(h3_warranty);

      //<p></p>
      p_para = document.createElement("p");
      p_para.innerHTML = product_upload[0]["product_warranty"];
      div_description.append(p_para);


      div_rate = document.createElement("div");
      div_rate.setAttribute("class", "rate");
      section_right.append(div_rate);

      //<p></p>
      p_rate = document.createElement("p");
      p_rate.innerHTML = details.rate;
      div_rate.append(p_rate);

      for (let s = 0; s < 5; s++) {
        //<i></i>
        i_star = document.createElement("i");
        i_star.setAttribute("class", "fa fa-star");
        p_rate.append(i_star);
      }
      //<button class="btn"></button>
      button_primary = document.createElement("button");
      button_primary.setAttribute("class", "btn-secondary");
      button_primary.setAttribute("type", "submit");
      button_primary.setAttribute("data-id", product_upload[0]["product_uuid"])
      button_primary.innerHTML = details.primary;
      section_right.append(button_primary);

      //<button class="btn"></button>
      button_secondary = document.createElement("button");
      button_secondary.setAttribute("class", "btn-delete");
      button_secondary.setAttribute("type", "submit");
      button_secondary.innerHTML = details.secondary;
      section_right.append(button_secondary);

      document.querySelector("section.top").append(section_right);

   
    const edit = document.querySelectorAll('button.btn-secondary');
        edit.forEach(function (findId) {
            findId.addEventListener('click', function () {
                const id = this.dataset.id;

                localStorage.setItem("product_uuid", JSON.stringify(id));
               window.location.href="./upload.html"
            });
        });

        let del_product = document.querySelector(".btn-delete");
        del_product.addEventListener("click", delData);
        function delData() {
            if (confirm("Are you sure?")) {
                let uid = JSON.parse(localStorage.getItem("product_uuid"));
                let product = JSON.parse(localStorage.getItem("product_crud"));
                function find_data(e) {
                    return e.product_uuid == uid;
                }
                product_data = product.find(find_data);
                const indexOfUser = product.indexOf(product_data);
                product.splice(indexOfUser, 1);
                localStorage.setItem('product_crud', JSON.stringify(product));
                location.reload();
            };
        }
  </script>

</body>

</html>